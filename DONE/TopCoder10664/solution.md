题目翻译

给你一个序列a，现在从这个序列的第一个点开始向右跳，每跳一次就要转向一次，可以跳到序列的任意一个地方，但是必须保证分数不小于0，求跳过k次之后的最大分数

题解

首先这道题我们可以模拟一下这个过程。发现当数据大道一定的程度的时候，就会在某个区间反复横跳。所以我们想到首先dfs模拟，找到反复横跳的那个区间之后，就是他会一直所在的区间，也就能O1的解决这个题。但是经过指点之后，发现这个题并不能反复横跳，因为如果这个区间之后有个很大的负数，在这个负数后面又有一个很大的正数，这样就是不合理的，因为我们可以在前面攒分数，攒到能跳过这个负数的时候我们就跨过这个负数，在这个正数的地方刷分。

考虑刚才的情况，我们可以想到和图论中的环一样，他在某个环上一直走，一个点可以看做自环。所以我们考虑建图，然后在dp的过程中维护两个值，分别是到达第i个点至少需要多少次step，以及到达第i个点的最大分值val。在建图过程中，由于每个点可以往两个方向走，并且走完走之后要换方向，所以我们考虑建分层图。